{% extends 'admin_base.html' %}

{% block content %}
<div class="container my-4">
    <h2>Patients</h2>
    {% for patient in patients %}
    <div class="card mb-3 p-3 shadow-sm">
        <h5>{{ patient.name }} - {{ patient.email }}</h5>
        <p><strong>Appointments:</strong></p>
        <ul>
            {% for appt in patient.appointments %}
            <li>With {{ appt.doctor.name }} - {{ appt.date }} at {{ appt.time }}</li>
            {% else %}
            <li>No appointments yet</li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</div>
{% endblock %}
